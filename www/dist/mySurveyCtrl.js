angular.module("mysurvey.controllers",[]).controller("mySurveyCtrl",["$scope","$rootScope","myPrivacySettingsData","$firebaseArray","FirebaseConfig","$ionicScrollDelegate",function(e,r,i,t,a,n){e.myprivacysettingsData=i,e.priority=["not interested at all","no opinion","a little interested","very interested","fantastic idea"],e.yesno=["no","yes"];var o=new Firebase(a.user+"/"+r.uid+"/privacy/");e.myPrivacySettings=t(o),e.myPrivacySettings.$loaded(function(e){var r=0;"undefined"==typeof e[0]&&angular.forEach(i.Questions,function(e,i){o.child(e.label).setWithPriority(e,r),r+=1})}),e.onFocus=function(){e.focused=!0},e.onHold=function(){1==e.focused&&n.freezeAllScrolls(!0)},e.onRelease=function(){n.freezeAllScrolls(!1)},e.saveReply=function(e,i,n,o,s,l){var u=new Firebase(a.user+"/"+r.uid+"/privacy/"),c=t(u);c.$loaded(function(e){var r=c.$getRecord(n);r.replyText=o,r.replyNumber=s,r.replyText&&(r.timestamp=Firebase.ServerValue.TIMESTAMP,c.$save(r))})},e.minus=function(e,i,n,o,s){var l=new Firebase(a.user+"/"+r.uid+"/survey/"+i+"/"),u=t(l);u.$loaded(function(e){var r=u.$getRecord(n);r.replyText=o,r.replyNumber=Number(s)-1,r.timestamp=Firebase.ServerValue.TIMESTAMP,u.$save(r)})},e.plus=function(e,i,n,o,s){var l=new Firebase(a.user+"/"+r.uid+"/survey/"+i+"/"),u=t(l);u.$loaded(function(e){var r=u.$getRecord(n);r.replyText=o,r.replyNumber=Number(s)+1,r.timestamp=Firebase.ServerValue.TIMESTAMP,u.$save(r)})}}]);