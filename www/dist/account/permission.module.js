angular.module("fooModule",["permission"]).run(["Permission","$q","$firebaseAuth",function(e,o,r){e.defineRole("Anonymous",function(e){var o=new Firebase(_Config.firebaseUrl),n=r(o);return n.$getAuth()?!1:!0}).defineRole("User",function(e){var n=o.defer(),s=new Firebase(_Config.firebaseUrl),i=r(s).$getAuth(),l=_Config.firebaseUrl+"users/"+i.uid+"/permission";console.log(l);var u=new Firebase(l);return u.on("value",function(e){"User"==e.val().role?(console.log("AuthCheck User Passed"),n.resolve()):(console.log("AuthCheck User Failed, user is only "+e.val().role+". Needed: User"),n.reject())}),n.promise}).defineRole("Admin",function(e){var n=o.defer(),s=new Firebase(_Config.firebaseUrl),i=r(s).$getAuth(),l=_Config.firebaseUrl+"users/"+i.uid+"/permission";console.log(l);var u=new Firebase(l);return u.on("value",function(e){"Admin"==e.val().role?(console.log("AuthCheck Admin Passed"),n.resolve()):(console.log("AuthCheck Admin Failed, user is only "+e.val().role+". Needed: Admin"),n.reject())}),n.promise})}]);